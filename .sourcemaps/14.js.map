{"version":3,"sources":["../../src/pages/baidumap/baidumap.module.ts","../../src/pages/baidumap/baidumap.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BaiduMapPage } from './baidumap';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaiduMapPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BaiduMapPage),\r\n  ],\r\n  exports:[BaiduMapPage]\r\n})\r\nexport class BaiduMapPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/baidumap/baidumap.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n/**\r\n * Generated class for the MapPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n// baidu map\r\ndeclare var BMap;\r\ndeclare var BMAP_STATUS_SUCCESS;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-baidumap',\r\n  templateUrl: 'baidumap.html',\r\n})\r\nexport class BaiduMapPage {\r\n\r\n  @ViewChild('map') map_container: ElementRef;\r\n  map: any;//地图对象\r\n  marker: any;//标记\r\n  geolocation1: any;\r\n  myIcon: any;\r\n\r\n  constructor(private geolocation: Geolocation) {\r\n    this.myIcon = new BMap.Icon(\"assets/icon/favicon.ico\", new BMap.Size(30, 30));\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    let map =\r\n      this.map =\r\n      new BMap.Map(\r\n        this.map_container.nativeElement,\r\n        {\r\n          enableMapClick: true,//点击拖拽\r\n          enableScrollWheelZoom: true,//启动滚轮放大缩小，默认禁用\r\n          enableContinuousZoom: true //连续缩放效果，默认禁用\r\n        }\r\n      );//创建地图实例\r\n\r\n    // map.centerAndZoom(\"广州\",17); //设置城市设置中心和地图显示级别\r\n    // map.addControl(new BMap.MapTypeControl());//地图类型切换\r\n    // map.setCurrentCity(\"广州\"); //设置当前城市\r\n\r\n    let point = new BMap.Point(113.38028471135, 23.129702256122);//坐标可以通过百度地图坐标拾取器获取\r\n    let marker = new BMap.Marker(point);\r\n    this.map.addOverlay(marker);\r\n    map.centerAndZoom(point, 18);//设置中心和地图显示级别\r\n\r\n    // let sizeMap = new BMap.Size(10, 80);//显示位置\r\n    // map.addControl(new BMap.NavigationControl());\r\n\r\n    // let myIcon = new BMap.Icon(\"assets/icon/favicon.ico\", new BMap.Size(300, 157));\r\n    // let marker = this.marker = new BMap.Marker(point, { icon: myIcon });\r\n    // map.addOverlay(marker);\r\n  }\r\n\r\n  getLocationByBrowser() {\r\n    let geolocation1 = this.geolocation1 = new BMap.Geolocation();\r\n    geolocation1.getCurrentPosition((r) => {\r\n      let mk = this.marker = new BMap.Marker(r.point, { icon: this.myIcon });\r\n      if (geolocation1.getStatus() == BMAP_STATUS_SUCCESS) {\r\n        this.map.addOverlay(mk);\r\n        this.map.panTo(r.point, 16);\r\n        console.log('浏览器定位：您的位置是 ' + r.point.lng + ',' + r.point.lat);\r\n      }\r\n      else {\r\n        alert('failed' + this.geolocation1.getStatus());\r\n      }\r\n    }, { enableHighAccuracy: false })\r\n  }\r\n\r\n  getLocationByIp() {\r\n    let myCity = new BMap.LocalCity();\r\n    myCity.get(result => {\r\n      let cityName = result.name;\r\n      this.map.setCenter(cityName);\r\n      console.log(\"当前定位城市:\" + cityName);\r\n    });\r\n  }\r\n  getLocationByCity() {\r\n    let city = \"广州\";\r\n    if (city != \"\") {\r\n      this.map.centerAndZoom(city, 16);      // 用城市名设置地图中心点\r\n    }\r\n  }\r\n  getLocationByLatLon() {\r\n    let point = new BMap.Point(113.38028471135, 23.129702256122);\r\n    let marker = this.marker = new BMap.Marker(point, { icon: this.myIcon });\r\n    this.map.addOverlay(marker);\r\n    this.map.centerAndZoom(point, 16);\r\n  }\r\n  getLocation() {\r\n    this.geolocation.getCurrentPosition().then((resp) => {\r\n      let locationPoint = new BMap.Point(resp.coords.longitude, resp.coords.latitude);\r\n      let convertor = new BMap.Convertor();\r\n      let pointArr = [];\r\n      pointArr.push(locationPoint);\r\n      convertor.translate(pointArr, 1, 5, (data) => {\r\n        if (data.status === 0) {\r\n          let marker = this.marker = new BMap.Marker(data.points[0], { icon: this.myIcon });\r\n          this.map.panTo(data.points[0]);\r\n          marker.setPosition(data.points[0]);\r\n          this.map.addOverlay(marker);\r\n        }\r\n      })\r\n      console.log('GPS定位：您的位置是 ' + resp.coords.longitude + ',' + resp.coords.latitude);\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/baidumap/baidumap.ts"],"sourceRoot":""}