{"version":3,"sources":["../../src/pages/googlemap/googlemap.module.ts","../../src/pages/googlemap/googlemap.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { GoogleMapPage } from './googlemap'\r\n@NgModule({\r\n  declarations: [\r\n    GoogleMapPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(GoogleMapPage),\r\n  ],\r\n  exports:[GoogleMapPage]\r\n})\r\nexport class GoogleMapPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/googlemap/googlemap.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Geolocation, PositionError, Geoposition } from '@ionic-native/geolocation';\r\nimport { ShopdetailPage } from '../../pages/shopdetail/shopdetail';\r\n\r\n/**\r\n * Generated class for the MapPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n// baidu map\r\n// declare var BMap;\r\n\r\n// gaode map\r\n// declare var AMap;\r\n\r\n//google map\r\ndeclare var google;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-googlemap',\r\n  templateUrl: 'googlemap.html',\r\n})\r\nexport class GoogleMapPage {\r\n  //googlemap\r\n\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  map: any;\r\n  x: number = 0;\r\n  y: number = 0;\r\n  currWindow: any;\r\n\r\n  // constructor(public navCtrl: NavController, private geolocation: Geolocation) {}\r\n  constructor(public navCtrl: NavController) {}\r\n\r\n  ionViewDidLoad() {\r\n\r\n    // var marker, i;\r\n    this.loadMap();\r\n    // this.showMyLocation();\r\n    this.addMarker(22.373, 114.109, {name: \"shop1\", detail: \"car washing store\", image: \"./assets/imgs/shop1.jpg\" });\r\n    this.addMarker(22.374, 114.108, {name: \"shop2\", detail: \"car beauty store\", image: \"./assets/imgs/shop2.jpg\" });\r\n    this.addMarker(22.370, 114.112, {name: \"shop3\", detail: \"car washing store\", image: \"./assets/imgs/shop3.jpg\" });\r\n\r\n  }\r\n\r\n  loadMap() {\r\n\r\n    let myLatLng = new google.maps.LatLng( 22.373751, 114.109886);\r\n\r\n    let mapOptions = {\r\n      center: myLatLng,\r\n      zoom: 15,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    }\r\n\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n\r\n    let myMarker = new google.maps.Marker ({\r\n      map: this.map,\r\n      position: myLatLng,\r\n      title:\"Here I am\"      \r\n    })\r\n\r\n  }\r\n\r\n  addMarker(lat: number, lng: number, place: any) {\r\n\r\n    let latLng = new google.maps.LatLng(lat, lng);\r\n\r\n    let marker = new google.maps.Marker({\r\n        map: this.map,\r\n        animation: google.maps.Animation.DROP,\r\n        position: latLng,\r\n        title: place.name,\r\n        snippet: place.detail,\r\n        icon: {\r\n          url: './assets/imgs/car-wash-favicon.ico',\r\n          // This marker is 20 pixels wide by 32 pixels high.\r\n          size: new google.maps.Size(32, 32),\r\n          // The origin for this image is (0, 0).\r\n          origin: new google.maps.Point(0, 0),\r\n          // The anchor for this image is the base of the flagpole at (0, 32).\r\n          anchor: new google.maps.Point(0, 12)\r\n        }\r\n    });\r\n\r\n    let content = '<div id=\"myid\"><h3 id=\"firstHeading\" >' + marker.title + '</h3><img id=\"markerImg\" src='+place.image+'></br><h6>'+marker.snippet+'</h6></div>';    \r\n    console.log(content);\r\n    this.addInfoWindow(marker, content);\r\n  }\r\n\r\n\r\n  addInfoWindow(marker, content){\r\n    \r\n    // this.currWindow =false;\r\n\r\n    let infoWindow = new google.maps.InfoWindow({\r\n       content: content\r\n    });\r\n\r\n    // marker.addListener('click', () => {\r\n    //   infoWindow.open(this.map, marker);\r\n    // });            \r\n\r\n    google.maps.event.addListener(marker, 'click', () =>{\r\n        if( this.currWindow ) {\r\n           this.currWindow.close();\r\n           // Remove all click listeners from marker instance\r\n           google.maps.event.clearListeners(infoWindow, 'click');  \r\n        }\r\n        this.currWindow = infoWindow;        \r\n        infoWindow.open(this.map, marker);\r\n\r\n        google.maps.event.addListener(infoWindow, 'domready', () => {\r\n          //now my elements are ready for dom manipulation\r\n          var clickableItem = document.getElementById('firstHeading');\r\n          clickableItem.addEventListener('click', () => {\r\n          this.navCtrl.push(ShopdetailPage);\r\n          \r\n          });\r\n        });        \r\n\r\n    });\r\n\r\n\r\n  \r\n    // var marker, i;\r\n\r\n    // for (i = 0; i < locations.length; i++) {  \r\n    //   marker = new google.maps.Marker({\r\n    //     position: new google.maps.LatLng(locations[i][1], locations[i][2]),\r\n    //     map: map\r\n    //   });\r\n\r\n    //   google.maps.event.addListener(marker, 'click', (function(marker, i) {\r\n    //     return function() {\r\n    //       infowindow.setContent(locations[i][0]);\r\n    //       infowindow.open(map, marker);\r\n    //     }\r\n    //   })(marker, i));\r\n    // }\r\n\r\n  } \r\n\r\n// showMyLocation() {\r\n\r\n//     this.geolocation.watchPosition().subscribe((position) => {\r\n//       this.x = position.coords.longitude;\r\n//       this.y = position.coords.latitude;\r\n      \r\n//       let latLng = new google.maps.LatLng(this.x, this.y);\r\n\r\n//       let marker = new google.maps.Marker({\r\n//         map: this.map,\r\n//         icon: new google.maps.MarkerImage('//maps.gstatic.com/mapfiles/mobile/mobileimgs2.png',\r\n//           new google.maps.Size(22, 22),\r\n//           new google.maps.Point(0, 18),\r\n//           new google.maps.Point(11, 11)),\r\n//         position: latLng\r\n//       });\r\n\r\n//       let content = \"<h4>You are here</h4>\";\r\n//       this.addInfoWindow(marker, content);\r\n\r\n//     }, (err) => {\r\n//       console.log(err);\r\n//     });\r\n//   }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/googlemap/googlemap.ts"],"sourceRoot":""}